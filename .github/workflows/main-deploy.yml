name: Deploy simple files on push

on:
  push:
    branches:
      - main

jobs:
  web-deploy:
    name: Deploy
    runs-on: ubuntu-latest

    steps:
      - name: Get latest code
        # Baja el código de tu repositorio
        uses: actions/checkout@v4
      
      # --- PASO DE DESPLIEGUE DIRECTO ---
      - name: Sync files via FTP
        # Usa la acción de despliegue FTP
        uses: SamKirkland/FTP-Deploy-Action@v4.3.4
        with:
          # Secretos de conexión (deben estar configurados en tu repo)
          server: ${{ secrets.FTP_SERVER }}
          username: ${{ secrets.FTP_USERNAME }}
          password: ${{ secrets.FTP_PASSWORD }}
          
          # Directorio local: La raíz del repositorio.
          # Esto subirá todos los archivos descargados por actions/checkout@v4.
          local-dir: ./ 
          
          # Directorio remoto: Dónde subirá los archivos en cPanel.
          # Ajusta esta ruta según tu configuración de hosting.
          server-dir: /portafolio.rsanjur.com/
